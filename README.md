# Unity RPC Starter (Unity 2022 LTS)

This repository is a starter skeleton for a **strongly-typed RPC** framework for **Unity + .NET**, designed to work with:
- iOS (IL2CPP) and HybridCLR (hot-update)
- Shared Contracts (`interface` + DTO) between client and server
- Transport switchability (TCP / WebSocket / KCP) behind a single abstraction
- MemoryPack for DTO serialization

## What is included
- `Assets/Scripts/Rpc/Contracts`: Attributes + example DTOs + example service interface
- `Assets/Scripts/Rpc/Runtime`: Transport abstraction + framing + RPC client/server cores
- `Assets/Scripts/Rpc/Transports`: TCP + ClientWebSocket + KCP transports
- `Assets/Scripts/Rpc/Generated`: generated client stubs + server binders (checked in)

## NuGet installation
This project is wired to install NuGetForUnity via OpenUPM (see `Packages/manifest.json` and `Packages/packages-lock.json` once Unity resolves it).

## MemoryPack installation
This project is wired to install MemoryPack via NuGetForUnity.

## Code Generation
Stubs are generated by a standalone CLI tool so you can run it from the command line:

```
dotnet run --project Tools/RpcCodeGen --
```

Generated files are written to `Assets/Scripts/Rpc/Generated/` and should be committed.

## Tests
1. Open the project in Unity 2022 LTS.
2. Ensure packages resolve (MemoryPack should be present).
3. open `Window` -> `General` -> `Test Runner` ï¼Œ click `EditMode`, click `Run All`

See CONTRIBUTING.md for architecture, testing, and platform constraints.
